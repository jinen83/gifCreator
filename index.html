<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Table Grid Pagination Challenge</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            text-align: center;
        }
        table {
            width: 80%;
            margin: 20px auto;
            border-collapse: collapse;
        }
        th, td {
            border: 1px solid #ccc;
            padding: 10px;
            text-align: center;
        }
        th {
            background-color: #f4f4f4;
        }
        .pagination {
            margin: 20px;
        }
        button {
            margin: 5px;
            padding: 10px;
            cursor: pointer;
        }
        textarea {
            width: 80%;
            height: 100px;
            margin-top: 20px;
            font-size: 14px;
        }
    </style>
</head>
<body>

    <h2>Table Grid Pagination Challenge</h2>
    <p><strong>Task:</strong> Implement pagination (5 rows per page) using JavaScript</p>

    <!-- Table Grid -->
    <table id="dataTable">
        <thead>
            <tr>
                <th>ID</th>
                <th>Name</th>
                <th>Role</th>
            </tr>
        </thead>
        <tbody id="tableBody">
            <!-- Data Rows -->
        </tbody>
    </table>

    <!-- Pagination Controls -->
    <div class="pagination">
        <button id="prevBtn">Previous</button>
        <span id="pageInfo">Page 1</span>
        <button id="nextBtn">Next</button>
    </div>

    <!-- User Input Area -->
    <h3>Write your JavaScript here üëá</h3>
    <textarea id="codeEditor">// Implement pagination for the table (5 rows per page)</textarea>
    <br>
    <button onclick="runCode()">Run Code</button>
    <button onclick="checkAnswer()">Check Answer</button>

    <!-- Result -->
    <p id="result"></p>

    <script>
        // Sample Data
        const data = [
            { id: 1, name: "Alice", role: "Engineer" },
            { id: 2, name: "Bob", role: "Designer" },
            { id: 3, name: "Charlie", role: "Manager" },
            { id: 4, name: "David", role: "Analyst" },
            { id: 5, name: "Eve", role: "DevOps" },
            { id: 6, name: "Frank", role: "HR" },
            { id: 7, name: "Grace", role: "Support" },
            { id: 8, name: "Hank", role: "Marketing" },
            { id: 9, name: "Ivy", role: "Finance" },
            { id: 10, name: "Jack", role: "Security" }
        ];

        let currentPage = 1;
        const rowsPerPage = 5;

        function displayTable(page) {
            const tableBody = document.getElementById("tableBody");
            tableBody.innerHTML = ""; // Clear table

            const start = (page - 1) * rowsPerPage;
            const end = start + rowsPerPage;
            const pageData = data.slice(start, end);

            pageData.forEach(row => {
                const tr = document.createElement("tr");
                tr.innerHTML = `<td>${row.id}</td><td>${row.name}</td><td>${row.role}</td>`;
                tableBody.appendChild(tr);
            });

            document.getElementById("pageInfo").innerText = `Page ${page}`;
            document.getElementById("prevBtn").disabled = (page === 1);
            document.getElementById("nextBtn").disabled = (page * rowsPerPage >= data.length);
        }

        function nextPage() {
            if (currentPage * rowsPerPage < data.length) {
                currentPage++;
                displayTable(currentPage);
            }
        }

        function prevPage() {
            if (currentPage > 1) {
                currentPage--;
                displayTable(currentPage);
            }
        }

        document.getElementById("prevBtn").addEventListener("click", prevPage);
        document.getElementById("nextBtn").addEventListener("click", nextPage);

        displayTable(currentPage); // Initial Display

        function runCode() {
            try {
                const userCode = document.getElementById("codeEditor").value;
                eval(userCode);
                document.getElementById("result").innerText = "‚úÖ Code Executed!";
            } catch (error) {
                document.getElementById("result").innerText = "‚ùå Error in Code!";
            }
        }

        function checkAnswer() {
            let correct = true;

            // Check if only 5 rows are displayed
            const rows = document.querySelectorAll("#tableBody tr");
            if (rows.length !== 5) {
                correct = false;
            }

            // Check if pagination buttons are working
            let initialPage = currentPage;
            nextPage();
            let pageChanged = currentPage !== initialPage;
            prevPage();

            if (!pageChanged) {
                correct = false;
            }

            // Validate page display
            const pageInfo = document.getElementById("pageInfo").innerText;
            if (!pageInfo.includes("Page")) {
                correct = false;
            }

            // Validate Next and Previous button states
            const prevDisabled = document.getElementById("prevBtn").disabled;
            const nextDisabled = document.getElementById("nextBtn").disabled;

            if ((currentPage === 1 && !prevDisabled) || (currentPage * rowsPerPage >= data.length && !nextDisabled)) {
                correct = false;
            }

            if (correct) {
                document.getElementById("result").innerText = "üéâ Correct! Pagination is working.";
            } else {
                document.getElementById("result").innerText = "‚ùå Incorrect! Ensure 5 rows per page and working pagination.";
            }
        }
    </script>

</body>
</html>
